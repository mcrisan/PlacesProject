{% extends 'BundlePlacesBundle::base1.html.twig' %}
{% block content %} 
<div class="left-container">
    <section class="top">         
<!--         <tabset class="menu-bar">        
            <tab ng-repeat="tab in tabs" heading="{{'{{tab.title}}'}}" active="tab.active" disabled="tab.disabled">
              {{'{{tab.content}}'}}
              <div ng-if ="tab" ng-include src="'/PlacesProject/Web/bundles/bundleplaces/partials/tabs/{{'{{tab.title}}'}}.html'"></div>
            </tab>
            <tab heading="PRESENTATION">
                <article>          
                </article>
            </tab>
            <tab heading="PHOTOS">
                <article>
                </article>
            </tab>
            <tab heading="RATINGS">
                <article>
                </article>
            </tab>
            <tab heading="REVIEWS">
                <article>           
                </article>
            </tab>
            <tab heading="PROMOTIONS">
                <article>
                </article>
            </tab> 
        </tabset> -->
        <div class="tabbable menu-bar">
            <ul class="nav nav-tabs">
              <li class="active"><a href="#pane1" data-toggle="tab">DETAILS</a></li>
              <li><a href="#pane2" data-toggle="tab">PHOTOS</a></li>
              <li><a href="#pane3" data-toggle="tab">RATINGS</a></li>
              <li><a href="#pane4" data-toggle="tab">REVIEWS</a></li>
              <li><a href="#pane5" data-toggle="tab">PROMOTIONS</a></li>
            </ul>
            <div class="tab-content" style="padding:0px; border:0px">
                <div id="pane1" class="tab-pane active">  
                {% include 'BundlePlacesBundle:Places/Tabs:presentation.html.twig' with {'place':placeDetail, 'placePhotos':placePhotos} %}                    
                </div><!-- /.panel1 -->
                
                <!-- Photos section -->
                <div id="pane2" class="tab-pane">                    
                </div><!-- /.pane2 -->
                
                <!-- Vote section -->
                <div id="pane3" class="tab-pane">                    
                </div><!-- /.pane3 -->
                
                <div id="pane4" class="tab-pane">                    
                </div><!-- /.panel4 -->
                
                <div id="pane5" class="tab-pane">
                </div><!-- /.panel5 -->  
            </div><!-- /.tab-content -->
        </div><!-- /.tabbable -->
    </section>

    <section class="map">
        <div class="header">
            <div class="address" ng-controller="TypeaheadCtrl">
                <div class="marker"></div>
                <label>Dorobantilor 48, CLUJ NAPOCA</label>   
                <input type="hidden" id="fromAddress" name="from" value="Calea Dorobantilor 48, Cluj Napoca, Romania" placeholder="location address"/>      
                <input ng-model="asyncSelected" value="" typeahead = "address for address in getLocation($viewValue) | filter:$viewValue" typeahead-loading="loadingLocations"></input>
            </div>
            <button class="location-button">
                <label>Change Location</label>
                <div class="pen-icon"></div>
            </button>            
        </div>
        <div id="googleMap"></div>
    </section>
</div>  
{% endblock %}  

{# sidebar #}
{% block sidebar %}
    <aside class="right-container">
        <ul class="restaurant-list">
        {% if input is defined %}
            {% for key,place in places %}
                <li>
                    <section>
                        {# set first result as active #}
                        {% set active = (key == 0 ? 'active' : '') %}
                        <a id="{{ place.placeId }}" class="{{ active }}" href="{{ path('renderPlace',{'param':place.slug}) }}">
                            <header>{{ place.placeName }}</header>
                            <ul class="rating-stars">                
                               {% for i in 1..5%}
                                    {% if i <= place.placeRating %}
                                        <li></li>               
                                    {% else %}
                                        <li class='red'></li>
                                    {% endif%}
                                {% endfor %}
                            </ul>
                        </a>
                    </section>
                </li>
            {% endfor %}
        {% else %}
            <p class="results-header-msg" style="padding-left:10px;">
                Invalid search input
            </p>
        {% endif %}
    </ul>
    </aside>
{% endblock %}

{% block javascript %}
    <!-- Js to load map and directions -->
    <script src="{{ asset('bundles/bundleplaces/js/sidebar.js') }}"></script>
    <script type="text/javascript" src="{{ asset('bundles/bundleplaces/js/google-map-get-directions.js') }}"></script>
    <script src="{{ asset('bundles/bundleplaces/js/renderPlace.js') }}"></script>
    <script src="{{ asset('bundles/bundleplaces/js/processingVote.js') }}"></script>
    <script src="{{ asset('bundles/bundleplaces/js/angular/angular.js') }}"></script>
    <script src="{{ asset('bundles/bundleplaces/js/angular/angular-route.js') }}"></script>
    <script src="{{ asset('bundles/bundleplaces/js/ui-bootstrap-tpls-0.10.0.js') }}"></script>
    <script src="{{ asset('bundles/bundleplaces/js/bootstrap.js') }}"></script>
    <script src="{{ asset('bundles/bundleplaces/js/app/app.js') }}"></script>
    <script src="{{ asset('bundles/bundleplaces/js/app/services.js') }}"></script>
    <script src="{{ asset('bundles/bundleplaces/js/app/controllers.js') }}"></script>
    <script src="{{ asset('bundles/bundleplaces/js/app/filters.js') }}"></script>
    <script src="{{ asset('bundles/bundleplaces/js/app/directives.js') }}"></script>  
{% endblock %}

{% block stylesheets %}
     <link rel="stylesheet" type="text/css" href="{{ asset('bundles/bundleplaces/css/details.css') }}" />
{% endblock %}


